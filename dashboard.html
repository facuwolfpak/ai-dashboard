<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Business Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .voice-section {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .record-btn {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px auto;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .record-btn:hover {
            transform: scale(1.05);
        }

        .record-btn.recording {
            background: linear-gradient(45deg, #ff4757, #c44569);
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 75, 87, 0.7); }
            70% { box-shadow: 0 0 0 20px rgba(255, 75, 87, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 75, 87, 0); }
        }

        .mic-icon {
            font-size: 2rem;
            color: white;
        }

        .status {
            text-align: center;
            margin-top: 15px;
            font-weight: 500;
        }

        .query-section {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .query-input {
            width: 100%;
            padding: 15px 20px;
            border: none;
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            font-size: 1.1rem;
            margin-bottom: 15px;
        }

        .query-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .quick-queries {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }

        .quick-query-btn {
            padding: 12px 16px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            font-size: 0.9rem;
        }

        .quick-query-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .response-area {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            min-height: 150px;
            border: 2px dashed rgba(255, 255, 255, 0.3);
        }

        .transcript {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            max-height: 200px;
            overflow-y: auto;
            font-family: monospace;
            font-size: 0.9rem;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .dashboard-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }

        .card-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 20px;
        }

        .card-title {
            font-size: 1.3rem;
            font-weight: 600;
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-left: auto;
        }

        .status-green { background: #2ed573; }
        .status-yellow { background: #ffa502; }

        .card-content {
            line-height: 1.6;
        }

        .metric {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .metric:last-child {
            border-bottom: none;
        }

        .pending-alert {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .timestamp {
            font-size: 0.8rem;
            opacity: 0.7;
            margin-top: 10px;
        }

        @media (max-width: 768px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
            
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ AI Business Dashboard</h1>
            <p>Voice-powered supplier and project intelligence</p>
        </div>

        <div class="main-grid">
            <div class="voice-section">
                <h2>üé§ Voice Interface</h2>
                <p style="font-size: 0.9rem; opacity: 0.8; margin-bottom: 15px;">
                    Record updates OR ask questions with your voice
                </p>
                <button class="record-btn" id="recordBtn">
                    <span class="mic-icon">üé§</span>
                </button>
                <div class="status" id="voiceStatus">Click to start recording</div>
                
                <div style="margin-top: 15px; background: rgba(255,255,255,0.1); padding: 12px; border-radius: 10px; font-size: 0.85rem;">
                    <strong>üí° Voice Examples:</strong><br>
                    <strong>Updates:</strong> "Dannon project status update..."<br>
                    <strong>Queries:</strong> "Show me Danny's projects" or "Philippines suppliers"
                </div>
                
                <div class="transcript" id="transcript" style="display: none;">
                    <div>Transcript will appear here...</div>
                </div>
            </div>

            <div class="query-section">
                <h2>üîç Ask Questions</h2>
                <p style="font-size: 0.9rem; opacity: 0.8; margin-bottom: 15px;">
                    Type OR use voice (microphone button) to ask questions
                </p>
                <input type="text" class="query-input" id="queryInput" placeholder="Type: 'Danny's projects' or 'Philippines suppliers' or use voice ‚Üí">
                
                <div class="quick-queries">
                    <button class="quick-query-btn" data-query="suppliers">üè¢ Supplier Status</button>
                    <button class="quick-query-btn" data-query="projects">üéØ Project Pipeline</button>
                    <button class="quick-query-btn" data-query="financial">üí∞ Financial Targets</button>
                    <button class="quick-query-btn" data-query="owners">üë• Owner Portfolios</button>
                </div>

                <div class="response-area" id="responseArea">
                    <div style="opacity: 0.6;">Ask a question (voice or text) to see AI-organized business insights...</div>
                </div>
            </div>
        </div>

        <div class="dashboard-grid">
            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-title">üéØ Project Pipeline</div>
                    <div class="status-indicator status-green"></div>
                </div>
                <div class="card-content">
                    <div class="metric">
                        <span>Active Projects:</span>
                        <span>46 Total</span>
                    </div>
                    <div class="metric">
                        <span>High Probability:</span>
                        <span>12 Projects</span>
                    </div>
                    <div class="metric">
                        <span>Key Markets:</span>
                        <span>Philippines, USA, Mexico</span>
                    </div>
                </div>
            </div>

            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-title">üè¢ Supplier Network</div>
                    <div class="status-indicator status-green"></div>
                </div>
                <div class="card-content">
                    <div class="metric">
                        <span>Active Suppliers:</span>
                        <span>19 Brands</span>
                    </div>
                    <div class="metric">
                        <span>Documentation:</span>
                        <span>85% Complete</span>
                    </div>
                    <div class="metric">
                        <span>Key Owners:</span>
                        <span>Danny, Facu, Chris</span>
                    </div>
                </div>
            </div>

            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-title">üí∞ 2025 Targets</div>
                    <div class="status-indicator status-yellow"></div>
                </div>
                <div class="card-content">
                    <div class="metric">
                        <span>SOP Target:</span>
                        <span>$5.8M</span>
                    </div>
                    <div class="metric">
                        <span>SOC Target:</span>
                        <span>$291K</span>
                    </div>
                    <div class="metric">
                        <span>Progress:</span>
                        <span>Q1 Planning</span>
                    </div>
                    <div class="pending-alert">
                        <strong>üéØ Focus:</strong> Convert high probability projects to orders
                    </div>
                </div>
            </div>

            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-title">üåç Geographic Reach</div>
                    <div class="status-indicator status-green"></div>
                </div>
                <div class="card-content">
                    <div class="metric">
                        <span>Countries:</span>
                        <span>21 Markets</span>
                    </div>
                    <div class="metric">
                        <span>Distributors:</span>
                        <span>15+ Partners</span>
                    </div>
                    <div class="metric">
                        <span>Top Retailers:</span>
                        <span>Costco, Dollar General</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let isRecording = false;
        let recognition = null;
        let voiceMemory = [];

        const businessData = {
            suppliers: [
                {brand: "Casbah", country: "USA", owner: "Facu"},
                {brand: "Dannon", country: "USA", owner: "Danny"},
                {brand: "Fruzel", country: "Taiwan", owner: "Chris"},
                {brand: "Happy Family", country: "USA", owner: "Danny"}
            ],
            projects: [
                {brand: "Horizon Organic", country: "Philippines", distributor: "Linkage Foods", owner: "Danny", probability: "Lo"},
                {brand: "Dannon", country: "Philippines", distributor: "Linkage Foods", owner: "Danny", probability: "Lo"},
                {brand: "Casbah", country: "Philippines", distributor: "Linkage Foods", owner: "Danny", probability: "Lo"}
            ],
            owners: ["Danny", "Facu", "Chris"]
        };

        function initSpeechRecognition() {
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                recognition = new SpeechRecognition();
                recognition.continuous = true;
                recognition.interimResults = true;

                let fullTranscript = '';

                recognition.onstart = function() {
                    isRecording = true;
                    document.getElementById('recordBtn').classList.add('recording');
                    document.getElementById('voiceStatus').textContent = 'üé§ Recording... (click to stop)';
                    document.getElementById('transcript').style.display = 'block';
                    fullTranscript = '';
                };

                recognition.onresult = function(event) {
                    let interimTranscript = '';
                    let finalTranscript = '';

                    for (let i = event.resultIndex; i < event.results.length; i++) {
                        if (event.results[i].isFinal) {
                            finalTranscript += event.results[i][0].transcript + ' ';
                        } else {
                            interimTranscript += event.results[i][0].transcript;
                        }
                    }

                    if (finalTranscript) {
                        fullTranscript += finalTranscript;
                    }

                    const displayText = fullTranscript + (interimTranscript ? '<span style="opacity:0.6;">' + interimTranscript + '</span>' : '');
                    document.getElementById('transcript').innerHTML = `<div>"${displayText}"</div>`;
                };

                recognition.onend = function() {
                    if (fullTranscript.trim() && !isRecording) {
                        processVoiceInput(fullTranscript.trim());
                    }
                };

                return true;
            }
            return false;
        }

        function toggleRecording() {
            if (!recognition) {
                startDemo();
                return;
            }

            if (isRecording) {
                isRecording = false;
                recognition.stop();
                document.getElementById('recordBtn').classList.remove('recording');
                document.getElementById('voiceStatus').textContent = 'Processing...';
            } else {
                recognition.start();
            }
        }

        function startDemo() {
            document.getElementById('voiceStatus').textContent = 'Demo: Simulating voice input...';
            document.getElementById('transcript').style.display = 'block';
            
            const demoText = "Show me Danny's portfolio and high probability projects in the Philippines.";
            
            let i = 0;
            const interval = setInterval(() => {
                document.getElementById('transcript').innerHTML = `<div>"${demoText.substring(0, i)}"</div>`;
                i++;
                if (i > demoText.length) {
                    clearInterval(interval);
                    processVoiceInput(demoText);
                }
            }, 50);
        }

        function processVoiceInput(transcript) {
            voiceMemory.push({text: transcript, timestamp: new Date()});
            
            if (isQuery(transcript)) {
                processQuery(transcript);
            } else {
                document.getElementById('responseArea').innerHTML = `
        function processVoiceInput(transcript) {
            voiceMemory.push({text: transcript, timestamp: new Date()});
            
            if (isQuery(transcript)) {
                processQuery(transcript);
            } else {
                document.getElementById('responseArea').innerHTML = `
                    <div><strong>üé§ Update Recorded:</strong> "${transcript}"</div>
                    <div style="background: rgba(46, 213, 115, 0.2); padding: 15px; border-radius: 10px; margin-top: 15px;">
                        ‚úÖ Information stored and ready for queries
                    </div>
                `;
            }
            
            document.getElementById('voiceStatus').textContent = '‚úÖ Processed! Click to record again';
        }

        function isQuery(text) {
            const queryWords = ['show', 'what', 'where', 'how', 'who', 'tell', 'find', 'search', 'status'];
            return queryWords.some(word => text.toLowerCase().includes(word));
        }

        function processQuery(query) {
            const result = searchBusiness(query);
            document.getElementById('responseArea').innerHTML = `
                <div><strong>üé§ Voice Query:</strong> "${query}"</div>
                ${result}
            `;
        }

        function searchBusiness(query) {
            const lowerQuery = query.toLowerCase();
            
            if (lowerQuery.includes('danny')) {
                return searchByOwner('Danny');
            } else if (lowerQuery.includes('facu')) {
                return searchByOwner('Facu');
            } else if (lowerQuery.includes('chris')) {
                return searchByOwner('Chris');
            } else if (lowerQuery.includes('philippines')) {
                return searchByCountry('Philippines');
            } else if (lowerQuery.includes('supplier')) {
                return showSuppliers();
            } else if (lowerQuery.includes('project')) {
                return showProjects();
            } else if (lowerQuery.includes('financial') || lowerQuery.includes('target')) {
                return showFinancials();
            } else {
                return generalSearch(query);
            }
        }

        function searchByOwner(owner) {
            const ownerSuppliers = businessData.suppliers.filter(s => s.owner === owner);
            const ownerProjects = businessData.projects.filter(p => p.owner === owner);
            
            return `
                <div style="margin-top: 15px;">
                    <strong>üë§ ${owner}'s Portfolio</strong>
                </div>
                <div style="background: rgba(255, 193, 7, 0.2); padding: 15px; border-radius: 10px; margin-top: 15px;">
                    <strong>üè¢ Suppliers:</strong><br>
                    ${ownerSuppliers.map(s => `‚Ä¢ ${s.brand} (${s.country})`).join('<br>')}
                    <br><br>
                    <strong>üéØ Projects:</strong><br>
                    ${ownerProjects.map(p => `‚Ä¢ ${p.brand} in ${p.country} - ${p.probability}`).join('<br>')}
                </div>
            `;
        }

        function searchByCountry(country) {
            const countrySuppliers = businessData.suppliers.filter(s => s.country === country);
            const countryProjects = businessData.projects.filter(p => p.country === country);
            
            return `
                <div style="margin-top: 15px;">
                    <strong>üåç ${country} Market</strong>
                </div>
                <div style="background: rgba(54, 162, 235, 0.2); padding: 15px; border-radius: 10px; margin-top: 15px;">
                    <strong>üè¢ Suppliers:</strong> ${countrySuppliers.length}<br>
                    <strong>üéØ Projects:</strong> ${countryProjects.length}<br><br>
                    ${countryProjects.map(p => `‚Ä¢ ${p.brand} via ${p.distributor} - ${p.probability}`).join('<br>')}
                </div>
            `;
        }

        function showSuppliers() {
            return `
                <div style="margin-top: 15px;">
                    <strong>üè¢ Supplier Overview</strong>
                </div>
                <div style="background: rgba(46, 213, 115, 0.2); padding: 15px; border-radius: 10px; margin-top: 15px;">
                    <strong>Total Suppliers:</strong> ${businessData.suppliers.length}<br><br>
                    ${businessData.suppliers.map(s => `‚Ä¢ ${s.brand} (${s.country}) - ${s.owner}`).join('<br>')}
                </div>
            `;
        }

        function showProjects() {
            return `
                <div style="margin-top: 15px;">
                    <strong>üéØ Project Pipeline</strong>
                </div>
                <div style="background: rgba(54, 162, 235, 0.2); padding: 15px; border-radius: 10px; margin-top: 15px;">
                    <strong>Active Projects:</strong> ${businessData.projects.length}<br><br>
                    ${businessData.projects.map(p => `‚Ä¢ ${p.brand} in ${p.country} - ${p.probability} probability`).join('<br>')}
                </div>
            `;
        }

        function showFinancials() {
            return `
                <div style="margin-top: 15px;">
                    <strong>üí∞ Financial Targets 2025</strong>
                </div>
                <div style="background: rgba(255, 193, 7, 0.2); padding: 15px; border-radius: 10px; margin-top: 15px;">
                    <strong>SOP Target:</strong> $5,825,000<br>
                    <strong>SOC Target:</strong> $291,250<br>
                    <strong>Active Projects:</strong> 46<br>
                    <strong>Pipeline Status:</strong> Q1 2025 Planning Phase
                </div>
            `;
        }

        function generalSearch(query) {
            return `
                <div style="margin-top: 15px;">
                    <strong>üîç Search: "${query}"</strong>
                </div>
                <div style="background: rgba(255, 165, 2, 0.2); padding: 15px; border-radius: 10px; margin-top: 15px;">
                    Try asking about:<br>
                    ‚Ä¢ "Danny's projects" or "Facu's suppliers"<br>
                    ‚Ä¢ "Philippines market" or "USA suppliers"<br>
                    ‚Ä¢ "Show financial targets" or "Project status"
                </div>
            `;
        }

        function handleTextQuery(query) {
            const result = searchBusiness(query);
            document.getElementById('responseArea').innerHTML = `
                <div><strong>üîç Search Query:</strong> "${query}"</div>
                ${result}
            `;
        }

        function handleQuickQuery(type) {
            let result = '';
            switch(type) {
                case 'suppliers':
                    result = showSuppliers();
                    break;
                case 'projects':
                    result = showProjects();
                    break;
                case 'financial':
                    result = showFinancials();
                    break;
                case 'owners':
                    result = `
                        <div style="margin-top: 15px;">
                            <strong>üë• Owner Portfolios</strong>
                        </div>
                        <div style="background: rgba(255, 193, 7, 0.2); padding: 15px; border-radius: 10px; margin-top: 15px;">
                            <strong>Danny:</strong> ${businessData.suppliers.filter(s => s.owner === 'Danny').length} suppliers, ${businessData.projects.filter(p => p.owner === 'Danny').length} projects<br>
                            <strong>Facu:</strong> ${businessData.suppliers.filter(s => s.owner === 'Facu').length} suppliers<br>
                            <strong>Chris:</strong> ${businessData.suppliers.filter(s => s.owner === 'Chris').length} suppliers
                        </div>
                    `;
                    break;
            }
            document.getElementById('responseArea').innerHTML = result;
        }

        // Initialize everything
        document.addEventListener('DOMContentLoaded', function() {
            initSpeechRecognition();
            
            document.getElementById('recordBtn').addEventListener('click', toggleRecording);
            
            document.getElementById('queryInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    handleTextQuery(e.target.value);
                    e.target.value = '';
                }
            });
            
            document.querySelectorAll('.quick-query-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    handleQuickQuery(this.getAttribute('data-query'));
                });
            });
        });
    </script>
</body>
</html>
